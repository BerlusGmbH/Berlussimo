### These instructions assume that you are running Ubuntu 14.04 and have an mySQL server
### with acces to the command line

### setup berlussimo web app on apache2

#upgrade ubuntu
sudo apt-get update
sudo apt-get upgrade
sudo apt-get dist-upgrade

#install npm and bower
curl -sL https://deb.nodesource.com/setup_4.x | sudo -E bash -
sudo apt-get install -y nodejs
sudo npm install -g bower

#the following command restarts the server
sudo shutdown -r now

#install apache2 and dependencies
sudo apt-get install apache2 php5 php5-gd libapache2-mod-php5 php5-mysql git
cd /var/www/;sudo git clone https://github.com/BerlusGmbH/Berlussimo berlussimo
sudo cp /var/www/berlussimo/classes/config.inc.php.sample /var/www/berlussimo/classes/config.inc.php

#edit config to fit your mysql config
sudo nano /var/www/berlussimo/classes/config.inc.php

#install composer and fetch dependencies
curl -sS https://getcomposer.org/installer | sudo php -- --install-dir=/usr/local/bin --filename=composer
cd /var/www/berlussimo/;sudo composer install
cd /var/www/berlussimo/;sudo bower --allow-root install bootstrap-treeview

#make web directory writeable by apache2
sudo chown -R www-data:www-data /var/www/berlussimo

#edit DocumentRoot to /var/www/berlussimo
sudo nano /etc/apache2/sites-enabled/000-default.conf
sudo service apache2 restart

### import database schema
mysqladmin create berlussimo
mysql berlussimo < /var/www/berlussimo/INSTALL/DB-Version-0.4.0/berlussimo_db_0.40.sql
mysql berlussimo < /var/www/berlussimo/INSTALL/DB-Version-0.4.0/berlussimo_db_0.4.1.sql

### you should now be able to open http://your.server/index.php in your browser and login with

# login: admin
# password: password
